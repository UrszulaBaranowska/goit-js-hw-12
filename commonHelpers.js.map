{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '44933716-9a3a9b2f063fdc3971bf0291b';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\nconst fetchImages = query => {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nconst createImageMarkup = images => {\n  return images\n    .map(\n      image => `\n    <div class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\"/>\n      </a>\n      <div class=\"info\">\n        <p><strong>Likes:</strong> ${image.likes}</p>\n        <p><strong>Views:</strong> ${image.views}</p>\n        <p><strong>Comments:</strong> ${image.comments}</p>\n        <p><strong>Downloads:</strong> ${image.downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n};\n\nconst displayImages = images => {\n  const markup = createImageMarkup(images);\n  gallery.innerHTML = markup;\n  const lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n  });\n  lightbox.refresh();\n};\n\nconst showError = message => {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n};\n\nconst handleSearchFormSubmit = async event => {\n  event.preventDefault();\n  const query = event.target.elements.query.value.trim();\n\n  if (!query) return;\n\n  gallery.innerHTML = '';\n  loader.style.display = 'flex';\n\n  try {\n    const data = await fetchImages(query);\n    const images = data.hits;\n\n    if (images.length === 0) {\n      showError(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    } else {\n      displayImages(images);\n    }\n  } catch (error) {\n    showError('Something went wrong. Please try again later.');\n  } finally {\n    loader.style.display = 'none';\n  }\n};\n\nsearchForm.addEventListener('submit', handleSearchFormSubmit);"],"names":["API_KEY","BASE_URL","searchForm","gallery","loader","fetchImages","query","response","createImageMarkup","images","image","displayImages","markup","SimpleLightbox","showError","message","iziToast","handleSearchFormSubmit","event"],"mappings":"6vBAKA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAEzCC,EAAcC,GACX,MACL,GAAGL,CAAQ,QAAQD,CAAO,MAAMM,CAAK,0DACzC,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EAGGC,EAAoBC,GACjBA,EACJ,IACCC,GAAS;AAAA;AAAA,iBAEEA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qCAGrBA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAInD,EACA,KAAK,EAAE,EAGNC,EAAgBF,GAAU,CAC9B,MAAMG,EAASJ,EAAkBC,CAAM,EACvCN,EAAQ,UAAYS,EACH,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,EACQ,QAAO,CAClB,EAEMC,EAAYC,GAAW,CAC3BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,EAEME,EAAyB,MAAMC,GAAS,CAC5CA,EAAM,eAAc,EACpB,MAAMZ,EAAQY,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAKZ,EAEL,CAAAH,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OAEvB,GAAI,CAEF,MAAMK,GADO,MAAMJ,EAAYC,CAAK,GAChB,KAEhBG,EAAO,SAAW,EACpBK,EACE,0EACR,EAEMH,EAAcF,CAAM,CAEvB,MAAe,CACdK,EAAU,+CAA+C,CAC7D,QAAY,CACRV,EAAO,MAAM,QAAU,MACxB,EACH,EAEAF,EAAW,iBAAiB,SAAUe,CAAsB"}